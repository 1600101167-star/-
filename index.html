<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>æš—æ‹æµ‹è¯•</title>
<style>
 body{
  margin:0;
  font-family:'å¾®è½¯é›…é»‘';
  background:#ffeef3;
  color:#333;
 }
 .page{display:none;padding:20px;}
 .active{display:block;}
 h1{text-align:center;color:#ff3b6a;margin-top:30px;font-size:28px;}
 button{
  width:90%;
  margin:20px auto;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#ff3b6a;
  color:#fff;
  font-size:18px;
  display:block;
 }
 .card{
  background:#fff;
  padding:20px;
  border-radius:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
 }
 .option{
  padding:14px;
  background:#ffd9e4;
  border-radius:12px;
  margin-top:12px;
  font-size:16px;
 }
 .progress{
  width:90%;
  height:10px;
  background:#fff;
  border-radius:10px;
  margin:20px auto;
 }
 .progress-inner{
  height:100%;
  width:0%;
  background:#ff3b6a;
  border-radius:10px;
  transition:.3s;
 }
 #poster{
  background:#ffe3ed;
  padding:20px;
  border-radius:18px;
 }
</style>
</head>
<body>

<!-- å°é¢é¡µ -->
<div id="page-start" class="page active">
 <h1>æš—æ‹æµ‹è¯•</h1>
 <div class="card">
  <p style="text-align:center;color:#666;">æµ…ç²‰Â·å°çº¢ä¹¦é£Â·ç”œç”œæš—æ‹æ„Ÿ</p >
  <input id="username" placeholder="è¾“å…¥ä½ çš„åå­—"
   style="width:90%;padding:12px;border-radius:10px;border:1px solid #ddd;display:block;margin:0 auto;">
  <button onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
 </div>
</div>

<!-- æµ‹è¯•é¡µ -->
<div id="page-test" class="page">
 <div class="progress"><div class="progress-inner" id="bar"></div></div>
 <div id="question-box" class="card"></div>
</div>

<!-- ç»“æœé¡µ -->
<div id="page-result" class="page">
 <h1>æµ‹è¯•ç»“æœ</h1>
 <div id="result-box" class="card"></div>
 <button onclick="makePoster()">ç”Ÿæˆæµ·æŠ¥</button>
 <button onclick="restart()">å†æµ‹ä¸€æ¬¡</button>
</div>

<!-- åˆ†äº«æµ·æŠ¥é¡µ -->
<div id="page-poster" class="page">
 <h1>åˆ†äº«æµ·æŠ¥</h1>
 <div id="poster"></div>
 <button onclick="restart()">å†æµ‹ä¸€æ¬¡</button>
</div>

<script>
const questions=[
 {q:"TA çœ‹ä½ çš„çœ¼ç¥æ˜¯å¦ä¼šé—ªçƒã€æ¸©æŸ”æˆ–åœç•™ç‰¹åˆ«ä¹…ï¼Ÿ",s:[3,2,1]},
 {q:"TA ä¼šä¸»åŠ¨æ‰¾ä½ èŠå¤©æˆ–åˆ›é€ å¯¹è¯æœºä¼šå—ï¼Ÿ",s:[3,2,1]},
 {q:"ä½ å‘æœ‹å‹åœˆæ—¶ï¼ŒTA çš„ç‚¹èµ/å›å¤é¢‘ç‡å¦‚ä½•ï¼Ÿ",s:[3,2,1]},
 {q:"ä½ çš„ä¸€ç‚¹å°å˜åŒ–ï¼ˆå‘å‹/ç©¿æ­ï¼‰ï¼ŒTA ä¼šæ³¨æ„åˆ°å—ï¼Ÿ",s:[3,2,1]},
 {q:"ä½ å•ç‹¬å’Œ TA ç›¸å¤„æ—¶ï¼Œå¯¹æ–¹ä¼šå‡ºç°ç´§å¼ ã€æ¿€åŠ¨æˆ–ä¸è‡ªç„¶å—ï¼Ÿ",s:[3,2,1]},
 {q:"TA æ˜¯å¦ä¼šè®°ä½ä½ è¯´è¿‡çš„å°ç»†èŠ‚ï¼Ÿ",s:[3,2,1]},
 {q:"ä½ ä¸å¼€å¿ƒæ—¶ TA çš„ååº”æ˜¯ï¼Ÿ",s:[3,2,1]},
 {q:"TA æ˜¯å¦ä¼šå·å·è§‚å¯Ÿä½ ã€å…³æ³¨ä½ ï¼Ÿ",s:[3,2,1]},
 {q:"TA å’Œåˆ«äººèŠå¤©æ—¶ï¼Œä¼šç»å¸¸æåˆ°ä½ å—ï¼Ÿ",s:[3,2,1]},
 {q:"ä½ æ„Ÿè§‰ TA å¯¹ä½ æ˜¯å¦æ¯”å¯¹åˆ«äººç‰¹åˆ«ï¼Ÿ",s:[3,2,1]}
];

let index=0,score=0,nameUser="";

function startTest(){
 nameUser=document.getElementById("username").value||"ä½ ";
 document.getElementById("page-start").classList.remove("active");
 document.getElementById("page-test").classList.add("active");
 loadQ();
}

function loadQ(){
 let q=questions[index];
 document.getElementById("question-box").innerHTML=`
  <h2>${q.q}</h2>
  <div class="option" onclick="choose(0)">éå¸¸æ˜æ˜¾</div>
  <div class="option" onclick="choose(1)">æœ‰ä¸€ç‚¹</div>
  <div class="option" onclick="choose(2)">çœ‹ä¸å‡ºæ¥</div>
 `;
 document.getElementById("bar").style.width=(index/questions.length)*100+"%";
}

function choose(n){
 score+=questions[index].s[n];
 index++;
 if(index>=questions.length) showR();
 else loadQ();
}

function resText(s){
 if(s>=24)
   return{t:"TA å¾ˆå¤§æ¦‚ç‡æš—æ‹ä½  â¤ï¸",c:`${nameUser}ï¼Œå„ç§è¿¹è±¡éƒ½è¯´æ˜ TA å¯¹ä½ çœŸçš„ç‰¹åˆ«ï¼`};
 if(s>=18)
   return{t:"TA å¯¹ä½ æœ‰å¥½æ„Ÿ ğŸŒ¸",c:`${nameUser}ï¼ŒTA å¯¹ä½ æœ‰æ„Ÿè§‰ï¼Œä½†å¯èƒ½è¿˜æ²¡åˆ°æš—æ‹ç¨‹åº¦ã€‚`};
 return{t:"æš‚æ—¶æ²¡æœ‰æš—æ‹è¿¹è±¡ ğŸ˜³",c:`${nameUser}ï¼Œç›®å‰æ›´åƒæ™®é€šæœ‹å‹å…³ç³»ã€‚`};
}

function showR(){
 document.getElementById("page-test").classList.remove("active");
 document.getElementById("page-result").classList.add("active");
 let r=resText(score);
 document.getElementById("result-box").innerHTML=
  `<h2>${r.t}</h2><p>${r.c}</p >`;
}

function makePoster(){
 document.getElementById("page-result").classList.remove("active");
 document.getElementById("page-poster").classList.add("active");
 let r=resText(score);
 document.getElementById("poster").innerHTML=`
  <div style='background:#fff;padding:20px;border-radius:16px;
              box-shadow:0 4px 10px rgba(0,0,0,.1);'>
   <h2 style='color:#ff3b6a;'>æš—æ‹æµ‹è¯•æŠ¥å‘Š</h2>
   <p>æ˜µç§°ï¼š${nameUser}</p >
   <p style='font-size:22px;color:#ff3b6a;font-weight:bold;'>${r.t}</p >
   <p>${r.c}</p >
  </div>
  <p style='text-align:center;color:#ff3b6a;margin-top:10px;'>é•¿æŒ‰ä¿å­˜æµ·æŠ¥</p >
 `;
}

function restart(){
 index=0;
 score=0;
 document.getElementById("page-poster").classList.remove("active");
 document.getElementById("page-result").classList.remove("active");
 document.getElementById("page-start").classList.add("active");
}
</script>
</body>
</html>
