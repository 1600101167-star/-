<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>暗恋测试</title>

<style>
body{
 margin:0;
 font-family:"微软雅黑";
 background:linear-gradient(180deg,#ffeaf1,#ffd4e2,#ffeaf1);
 min-height:100vh;
 color:#333;
}

.page{display:none;padding:20px;}
.active{display:block;}

h1{
 text-align:center;
 color:#ff3b6a;
 margin-top:30px;
 font-size:28px;
 font-weight:700;
}

.card{
 background:#fff;
 padding:28px 22px;
 border-radius:18px;
 box-shadow:0 8px 18px rgba(0,0,0,.13);
 margin-top:64px;
}

button{
 width:90%;
 margin:22px auto;
 padding:14px;
 border:none;
 border-radius:14px;
 background:#ff3b6a;
 color:#fff;
 font-size:18px;
 display:block;
}

.option{
 padding:14px;
 background:#ffd9e4;
 border-radius:13px;
 margin-top:12px;
 font-size:17px;
}

.progress{
 width:90%;
 height:12px;
 background:#fff;
 border-radius:10px;
 margin:20px auto 12px;
 overflow:hidden;
}

.progress-inner{
 height:100%;
 width:0%;
 background:#ff3b6a;
 transition:.3s;
}
</style>
</head>

<body>

<!-- 支付页 -->
<div id="page-pay" class="page active">
 <h1>暗恋测试</h1>
 <div class="card">
  <p style="text-align:center;color:#666;">支付 1 元开始测试</p >
  <button onclick="showQRCode()">支付 1 元</button>

  <div id="qrcode" style="display:none;text-align:center;margin-top:20px;">
    < img src="pay.jpg" style="width:200px;">
    <p style="color:#666;margin-top:10px;">支付完成后点击下方按钮</p >
    <button onclick="startTest()">我已支付</button>
  </div>
 </div>
</div>

<!-- 测试页 -->
<div id="page-test" class="page">
 <div class="progress">
  <div class="progress-inner" id="bar"></div>
 </div>
 <div id="question-box" class="card"></div>
</div>

<!-- 结果页 -->
<div id="page-result" class="page">
 <h1>测试结果</h1>
 <div id="result-box" class="card"></div>
 <button onclick="restart()">再测一次</button>
</div>

<script>
const questions=[
 "TA 看你时会刻意避开又忍不住看吗？",
 "TA 会主动找你聊天吗？",
 "你发动态时 TA 会点赞或评论吗？",
 "TA 会注意你的小变化吗？",
 "单独相处时 TA 会紧张吗？",
 "TA 记得你的喜好吗？",
 "你低落时 TA 会关心吗？",
 "TA 会偷偷观察你吗？",
 "TA 会向别人提起你吗？",
 "你的直觉觉得 TA 喜欢你吗？"
];

let index=0;
let score=0;

function showQRCode(){
 document.getElementById("qrcode").style.display="block";
}

function startTest(){
 document.getElementById("page-pay").style.display="none";
 const testPage=document.getElementById("page-test");
 testPage.style.display="block";
 testPage.classList.add("active");
 loadQuestion();
}

function loadQuestion(){
 document.getElementById("question-box").innerHTML=`
  <h2 style="color:#ff3b6a;">${questions[index]}</h2>
  <div class="option" onclick="choose(3)">非常明显</div>
  <div class="option" onclick="choose(2)">有一点</div>
  <div class="option" onclick="choose(1)">看不出来</div>
 `;
 document.getElementById("bar").style.width=(index/questions.length)*100+"%";
}

function choose(s){
 score+=s;
 index++;
 index>=questions.length ? showResult() : loadQuestion();
}

function showResult(){
 document.getElementById("page-test").style.display="none";
 document.getElementById("page-result").style.display="block";

 let percent=Math.min(95,Math.max(10,Math.round(score/30*100)));

 document.getElementById("result-box").innerHTML=`
  <p style="text-align:center;color:#999;">TA 对你暗恋程度</p >
  <p style="font-size:72px;font-weight:900;color:#ff3b6a;text-align:center;">${percent}%</p >
  <p style="text-align:center;color:#666;">根据互动与情绪反应综合计算</p >
 `;
}

function restart(){
 location.reload();
}
</script>

</body>
</html>
